<!DOCTYPE html>
<head>
</head>


<html>
<body>

<hr>
<p><h3> Step 1: Choose the process to be explored: </h3></p>

<select id="mySelect" size="4">
  <option value="Apple" selected>Process Apple</option>
  <option value="Pear">Process Pear</option>
  <option value="Banana">Process Banana</option>
  <option value="Orange">Process Orange</option>
</select>

<hr>
<p><h3>Step 2: Guess the best process setpoint: </h3></p>

<form>
Your guess (it can be any real number between -100 to 100):<br>
<input type="text" id="action" value="0">
<br>

</form>

<button onclick="myFunction()">Obtain process output</button><br>
</form>
<p id="timer"></p>





<script>
function myFunction() {
    var ddl = document.getElementById("mySelect");
    var selectedValue = ddl.options[ddl.selectedIndex].value;
    var theta = 0;
    var k = 100;
    var eps = 200
    var x = document.getElementById("action").value;
    //var x = inputElement.value;
    switch (selectedValue) {
    	case "Apple": // open loop
    		theta = 0;
    		k = 100;
    		eps = 200;
    		break;
    	case "Pear": // Open loop (smaller noise)
    		theta = 23;
    		k = 100;
    		eps = 20;
    		break;
		case "Banana": // SR
    		theta = -10;
    		k = 100;
    		eps = 200;
    		break;
		case "Orange": // SR (smaller noise)
    		theta = 55;
    		k = 100;
    		eps = 20;
    		break;
    }


    //setTimeout(function(){alert(2000 - Math.pow(x-theta,2)*k+(2*Math.random()-1)*eps);},5000)
    
	var counter = 1;
	var newElement = document.getElementById("timer");
	newElement.innerHTML = "The process output will be ready in " + counter.toString() + " seconds.";
	var id;


	id = setInterval(function() {
	    counter--;
	    if(counter < 0) {
	        var result = 2000 - Math.pow(x-theta,2)*k+(2*Math.random()-1)*eps;
	        var resultShort = result.toFixed(2);
	        alert("Process output: " + resultShort);
	        clearInterval(id);
	    } else {
	        newElement.innerHTML = "The process output will be ready in " + counter.toString() + " seconds.";
	    }
	}, 1000);


    //document.getElementById("demo").innerHTML = 2000 - Math.pow(x-theta,2)*k+(2*Math.random()-1)*eps;
}
</script>

<hr>
<p><h3>Step 3: Report your setpoint: </h3></p>

<p>
<iframe src="https://docs.google.com/forms/d/139HQd3xN8Qc5XNWM68m8F5XAIQXgzw3D78ERjS64zz0/viewform?embedded=true" width="360" height="550" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>
</p>

<hr>

</body>
</html>






